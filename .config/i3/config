##  Font Configuration
##  ------------------------------
font pango:Iosevka Medium 8

##  Key Bindings
##  ------------------------------

##  Set Modal Key
##  Mod4 is the windows key
set $mod Mod4

##  Modal key to enable dragging of floating windows
floating_modifier $mod

##  Start a terminal
bindsym $mod+Return exec konsole

##  Kill the focused window
bindsym $mod+Shift+q kill

##  Change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

##  Move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym $mod+n split h
bindsym $mod+v split v
bindsym $mod+f fullscreen toggle
bindsym $mod+w layout tabbed
bindsym $mod+b layout toggle split
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent
#bindsym $mod+d focus child

##  Set workspace variables
set $workspace1 "1"
set $workspace2 "2"
set $workspace3 "3"
set $workspace4 "4"
set $workspace5 "5"
set $workspace6 "6"
set $workspace7 "7"
set $workspace8 "8"
set $workspace9 "9"
set $workspace10 "10"

bindsym $mod+1 workspace $workspace1
bindsym $mod+2 workspace $workspace2
bindsym $mod+3 workspace $workspace3
bindsym $mod+4 workspace $workspace4
bindsym $mod+5 workspace $workspace5
bindsym $mod+6 workspace $workspace6
bindsym $mod+7 workspace $workspace7
bindsym $mod+8 workspace $workspace8
bindsym $mod+9 workspace $workspace9
bindsym $mod+0 workspace $workspace10

bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+2 move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+7 move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+9 move container to workspace $workspace9
bindsym $mod+Shift+0 move container to workspace $workspace10

##  Assign workspace output
##  ---------------------------
workspace $workspace1 output HDMI-0
workspace $workspace2 output HDMI-0
workspace $workspace3 output HDMI-0
workspace $workspace4 output HDMI-0
workspace $workspace5 output HDMI-0
workspace $workspace6 output DVI-0
workspace $workspace7 output DVI-0
workspace $workspace8 output DVI-0
workspace $workspace9 output DVI-0
workspace $workspace10 output DVI-0

##  Reload/Restart inplace/Exit
##  ---------------------------
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Please confirm exit' -b 'Exit i3' 'i3-msg exit'"

##  Resize window
bindsym $mod+r mode "resize"
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode
        bindsym h resize shrink width 5 px or 5 ppt
        bindsym j resize grow height 5 px or 5 ppt
        bindsym k resize shrink height 5 px or 5 ppt
        bindsym l resize grow width 5 px or 5 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

##  Scrot (screenshot utility) and open in Gimp
bindsym Print exec scrot -e 'mv $f /tmp/ && gimp /tmp/$f'
#   scrot & gimp - select window or rectangle
bindsym $mod+Print exec scrot -s -e 'mv $f /tmp/ && gimp /tmp/$f'

##  Flashfocus
#   flash active window
bindsym $mod+< exec --no-startup-id flash_window


##  Appearance
##  ------------------------------

##  Disable edge borders and indicator
#hide_edge_borders both

##  Get colors from .Xresources
#set_from_resource $background_dark = color0
#set_from_resource $background_light = color8
#set_from_resource $foreground_dark = color7
#set_from_resource $foreground_light = color15
#set_from_resource $red_dark = color1
#set_from_resource $red_light = color9
#set_from_resource $green_dark = color2
#set_from_resource $green_light = color10
#set_from_resource $yellow_dark = color3
#set_from_resource $yellow_light = color11
#set_from_resource $blue_dark = color4
#set_from_resource $blue_light = color12
#set_from_resource $magenta_dark = color5
#set_from_resource $magenta_light = color13
#set_from_resource $cyan_dark = color6
#set_from_resource $cyan_light = color14

##  Assign colors to color variables
#set $bg_focused $background_dark
#set $bg_unfocused $background_light
#set $bg_inactive $red_dark
#set $bg_urgent $red_light
#set $fg_focused $foreground_light
#set $fg_unfocused $foreground_light
#set $fg_urgent $red_light

##  Window appearance
##  Element               Border                  Background              Text                    Indicator
#client.focused            $bg_focused             $bg_focused             $fg_focused             #00ff00
#client.unfocused          $bg_unfocused           $bg_unfocused           $fg_unfocused           #00ff00
#client.focused_inactive   $bg_inactive            $bg_inactive            $fg_unfocused           #00ff00
#client.urgent             $bg_urgent              $bg_urgent              $fg_urgent              #00ff00


##  Rofi Configuration (a program launcher)
##  ------------------------------
bindsym $mod+z exec rofi -show drun -theme .config/rofi/current-theme .
bindsym $mod+s exec rofi -show ssh -theme .config/rofi/current-theme .

##  i3lock Configuration (a screen locker)
##  ------------------------------
#  bindsym $mod+Shift+x exec i3lock --color "$bg_unfocused"


##  Assign workspace applications
##  ---------------------------
##  - Use xprop to get the i3 window class
assign [class="Slack"] $workspace8
assign [class="Thunderbird"] $workspace7

##  Execution
##  ------------------------------
##  - Execute on startup
##
exec --no-startup-id compton --config /home/deo/.config/compton/compton.conf -b
##  User authentication agent for polkit
exec --no-startup-id /usr/lib/polkit-kde-authentication-agent-1
##  Udiskie 
##  An udisks2 front-end to manage removeable media from userspace
exec --no-startup-id udiskie --tray --use-udisks2
exec ibus-daemon -r
exec dropbox
exec thunderbird
# exec --no-startup-id redshift-gtk
exec slack

##  - Execute on reload
exec_always --no-startup-id $HOME/.config/polybar/launch.sh
exec_always --no-startup-id flashfocus
exec_always nitrogen --restore &

##  Disable window titlebars (this is needed if using i3-gaps)
for_window [class="^.*"] border pixel 0
